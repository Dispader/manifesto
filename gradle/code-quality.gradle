apply plugin: 'codenarc'

codenarc {
    toolVersion = '0.26.0'
    configFile = file('src/check/codenarc/codenarc.groovy')
}

tasks.withType(CodeNarc) {
    reports {
        xml.enabled = true
        html.enabled = true
    }
}

gradle.taskGraph.whenReady { graph ->
    graph.allTasks.findAll { it.name ==~ /codenarc.*Test/ }*.enabled = false
}